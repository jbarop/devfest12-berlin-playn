<!--
DevFest Berlin 2012 - PlayN

Authors: Johannes Barop

Build with the Google IO 2012 HTML slide template.

Authors: Eric Bidelman <ebidel@gmail.com>
         Luke Mahe <lukem@google.com>
URL: https://code.google.com/p/io-2012-slides
-->
<!DOCTYPE html>
<html>
	
	<head>
		<title>DevFest Berlin 2012</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
		<!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
		<!--This one seems to work all the time, but really small on ipad-->
		<!--<meta name="viewport" content="initial-scale=0.4">-->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<link rel="stylesheet" media="all" href="theme/css/default.css">
		<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
		<base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
		<script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
		<script type="text/javascript">
			// Attach the playn-root element to the given element and execute the given sample
			function setSample(element, sample) {
				var playnroot = document.getElementById('playn-root');
				playnroot.parentNode.removeChild(playnroot);
				element.appendChild(playnroot);
				window.setCurrentSample(sample);
			}
		</script>
	</head>
	
	
	<body style="opacity: 0">
		
		
		<div id="playn-container">
			<div id="playn-root"></div>
		</div>
		<script src='samples/samples.nocache.js'></script>
		
		
		<slides class="layout-widescreen">
			
			
			<slide class="title-slide segue nobackground">
				<aside class="gdbar"><img src="images/GDG-program-logo.png"></aside>
				<!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
				<hgroup class="auto-fadein">
					<h1 data-config-title><!-- populated from slide_config.json --></h1>
					<h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
					<p data-config-presenter><!-- populated from slide_config.json --></p>
				</hgroup>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>About me</h2>
				</hgroup>
				<article>
					<img class="photo" src="images/jb.jpg" />
					<ul>
						<li>
							Johannes Barop &lt;<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#106;&#98;&#64;&#98;&#97;&#114;&#111;&#112;&#46;&#100;&#101;">&#106;&#98;&#64;&#98;&#97;&#114;&#111;&#112;&#46;&#100;&#101;</a>&gt;
						</li>
						<li>Hamburg, Germany</li>
						<li>Freelancing web application developer</li>
						<li>Java and GWT</li>
						<li>Game development for fun</li>
					</ul>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Motivation behind PlayN</h2>
				</hgroup>
				<article>
					<ul>
						<!-- todo: prototype  -->
						<li>Develop games for many different platforms and environments</li>
						<li>PCs, Smartphones, Tablets, SmartTVs, Social Networks</li>
						<li>Linux, MacOS, Windows, Android, iOS, webOS</li>
					</ul>
					<ul>
						<li>This takes a huge amount of development resources</li>
						<li>Hard to maintain</li>
						<li>No fun at all</li>
					</ul>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>PlayN</h2>
				</hgroup>
				<article>
					<ul>
						<li>Formerly known as "ForPlay"</li>
						<li>Cross platform game abstraction library</li>
						<li>Write one code base and run it natively on different platforms (Java, HTML5, Android, iOS, Flash)</li>
						<li>Based on Java</li>
						<li>Open sourced under Apache License 2.0</li>
						<li>Active project with contributors from Google and game studios</li>
						<li>Used for the Chrome version of Angry Birds</li>
						<li><a href="http://code.google.com/p/playn/">code.google.com/p/playn</a></li>
						<li><a href="http://developers.google.com/playn/">developers.google.com/playn</a></li>
					</ul>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Why Java?</h2>
				</hgroup>
				<article>
					<ul>
						<li>Runs natively on Android</li>
						<li>Great optimizations through GWT</li>
						<li>Reuse the GWT compiler to generate other languages like Flex</li>
						<li>Familiar tools and libraries</li>
						<li>Box2D (C++) -> JBox2D (Java) -> GWTBox2D (GWT)</li>
					</ul>
				</article>
			</slide>
			
			
			<slide>
				<article class="flexbox vcenter">
					<iframe data-src="http://savagelook.com/demos/box2djs/helloworld.html"></iframe>
					<p>Demo Source: <a href="http://savagelook.com/demos/box2djs/helloworld.html">savagelook.com</a></p>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Abstraction</h2>
				</hgroup>
				<article class="smaller">
					<p>Implement the Game inferface using the core API</p>
					<pre class="prettyprint" data-lang="java">
<b>import static playn.core.PlayN.*;</b>

public class MyGame implements <b>playn.core.Game</b> {

  void init() {
    /** ... **/
    <b>playn.core.ImageLayer bg = graphics().createImageLayer(bgImage);
    graphics().rootLayer().add(bg);</b>
  }
  /** ... **/
}
					</pre>
					<p>Each platform implements the core API</p>
					<pre class="prettyprint" data-lang="java">
<b>class playn.html.HtmlImageLayer implements playn.core.ImageLayer</b> {
  /** ... **/
}
					</pre>
				</article>
			</slide>


			<slide>
				<hgroup>
					<h2>Abstraction</h2>
				</hgroup>
				<article>
					<div class="centered" style="margin-top:2em">
						<img src="images/playN-api-layout.png">
					</div>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Some implemented sub systems</h2>
				</hgroup>
				<article>
					<ul>
						<li>2D Physics</li>
						<li>2D Graphics</li>
						<li>Input (Keyboard, Mouse, Touch)</li>
						<li>Sound</li>
						<li>Asset loading</li>
						<li>Networking</li>
						<li>Storage</li>
						<li>Shaders (GL based platforms only)</li>
					</ul>
					<ul>
						<li><a href="http://code.google.com/p/playn/wiki/PlatformStatus">code.google.com/p/playn/wiki/PlatformStatus</a></li>
					</ul>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Graphics infrastructure</h2>
				</hgroup>
				<article>
					<div class="centered" style="margin-top:2em">
						<img src="images/playN-layers-diagram.png">
					</div>
					<ul>
						<li>Hierarchical layer system</li>
						<li>Transformations (translate, scale, rotate)</li>
						<li>Different layer types with specialized drawing functionality</li>
						<li>Acceleration (OpenGL, OpenGL ES, WebGL, HTML5 Canvas, CSS3)</li>
					</ul>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Layer types</h2>
				</hgroup>
				<article>
					<div class="centered" style="margin-top:2em">
						<img src="images/playN-layers.png">
					</div>
					<ul>
						<li>Group Layer: Groups multiple layers into on layer</li>
						<li>Image Layer: Displays an image</li>
						<li>Surface Layer: Renders multiple images into a single surface</li>
						<li>Canvas Layer: Provides 2D Canvas API</li>
					</ul>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Let's create a game</h2>
				</hgroup>
				<article>
					<p>Create a project</p>
					<pre class="prettyprint" data-lang="shell">
mvn archetype:generate \
 -DarchetypeGroupId=com.googlecode.playn \
 -DarchetypeArtifactId=playn-archetype \
 -DarchetypeVersion=1.4
					</pre>
					<p>Run it</p>
					<pre class="prettyprint" data-lang="shell">
mvn test -Pjava # run it with java
mvn test -Phtml # run it with gwt
					</pre>
					<p>Android and iOS work too but need some setup.</p>
					<p> See <a href="http://code.google.com/p/playn/w">code.google.com/p/playn/w</a> for details.<p>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Let's create a game</h2>
				</hgroup>
				<article class="smaller">
					<pre class="prettyprint" data-lang="java">
public class MyGame implements Game {

  @Override
  public void init() {<b>
    Image bgImage = assets().getImage("images/bg.png");
    ImageLayer bgLayer = graphics().createImageLayer(bgImage);
    graphics().rootLayer().add(bgLayer);</b>
  }

  @Override
  public void paint(final float alpha) {
  }

  @Override
  public void update(final float delta) {
  }

  @Override
  public int updateRate() {
    return 25;
  }

}
					</pre>
				</article>
			</slide>
			
			
			<slide slideenter="setSample(this.childNodes[1], 0)">
				<hgroup>
					<h2>Let's create a game</h2>
				</hgroup>
				<article></article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Let's create a game</h2>
				</hgroup>
				<article>
					<pre class="prettyprint" data-lang="java">
@Override
public void init() {
  /** **/
<b>
  Image cloudImage = assets().getImage("images/cloud.png");
  ImageLayer cloudLayer = graphics().createImageLayer(cloudImage);
  graphics().rootLayer().add(cloudLayer);</b>
}
					</pre>
				</article>
			</slide>
			
			
			<slide slideenter="setSample(this.childNodes[1], 1)">
				<hgroup>
					<h2>Add a cloud</h2>
				</hgroup>
				<article></article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Animate the cloud</h2>
				</hgroup>
				<article>
					<pre class="prettyprint" data-lang="java">
@Override
public void paint(final float delta) {<b>
  couldX += delta;
  if (couldX > bgImage.width() - cloudImage.width()) {
    couldX = -cloudImage.width();
  }
  cloudLayer.setTranslation(couldX, couldY);</b>
}
					</pre>
				</article>
			</slide>
			
			
			<slide slideenter="setSample(this.childNodes[1], 2)">
				<hgroup>
					<h2>Animate the cloud</h2>
				</hgroup>
				<article></article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Add balls with click/touch</h2>
				</hgroup>
				<article>
					<pre class="prettyprint" data-lang="java">
@Override
public void init() {
  /** **/

  ballImage = assets().getImage("images/ball.png");
  ballLayer = graphics().createGroupLayer();
  graphics().rootLayer().add(ballLayer);<b>
  pointer().setListener(new Pointer.Adapter() {
    @Override
    public void onPointerEnd(final Pointer.Event event) {
      Ball ball = new Ball(ballImage, event.x(), event.y());
      ballLayer.add(ball.layer);
    }
  });</b>
}
					</pre>
				</article>
			</slide>
			
			
			<slide slideenter="setSample(this.childNodes[1], 3)">
				<hgroup>
					<h2>Add balls with click/touch</h2>
				</hgroup>
				<article></article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Add physics</h2>
				</hgroup>
				<article class="smaller">
					<pre class="prettyprint" data-lang="java">
public Ball(final Image image, final float x, final float y) {
  /** **/
<b>
  BodyDef bodyDef = new BodyDef();
  bodyDef.type = BodyType.DYNAMIC;
  bodyDef.position = new Vec2(x, y);
  body = world.createBody(bodyDef);
  FixtureDef fixtureDef = new FixtureDef();
  fixtureDef.shape = new CircleShape();
  fixtureDef.shape.m_radius = radius;
  fixtureDef.density = 1.0f;
  fixtureDef.friction = 0.3f;
  body.createFixture(fixtureDef);
  body.setTransform(new Vec2(x, y), 0.0f);</b>
}
					</pre>
				</article>
			</slide>
			
			
			<slide>
				<hgroup>
					<h2>Add physics</h2>
				</hgroup>
				<article class="smaller">
					<pre class="prettyprint" data-lang="java">
@Override
public void init() {
  /** **/
<b>
  world = new World(new Vec2(0.0f, 10.0f), true);
  world.setWarmStarting(true);
  world.setAutoClearForces(true);</b>
}

@Override
public void update(final float delta) {
  <b>world.step(delta, 10, 10);</b>
}
					</pre>
				</article>
			</slide>


			<slide slideenter="setSample(this.childNodes[1], 4)">
				<hgroup>
					<h2>Add physics</h2>
				</hgroup>
				<article></article>
			</slide>


			<slide>
				<hgroup>
					<h2>Add some bounds to the screen</h2>
				</hgroup>
				<article class="smaller">
					<pre class="prettyprint" data-lang="java">
@Override
public void init() {
  /** **/
<b>
  float physWidth = physUnitPerScreenUnit * 640;
  float physHeight = physUnitPerScreenUnit * 480;
  Body ground = world.createBody(new BodyDef());

  PolygonShape bottom = new PolygonShape();
  bottom.setAsEdge(new Vec2(0, physHeight), new Vec2(physWidth, physHeight));
  ground.createFixture(bottom, 0.0f);

  PolygonShape top = new PolygonShape();
  top.setAsEdge(new Vec2(0, 0), new Vec2(physWidth, 0));
  ground.createFixture(top, 0.0f);

  PolygonShape left = new PolygonShape();
  left.setAsEdge(new Vec2(0, 0), new Vec2(0, physHeight));
  ground.createFixture(left, 0.0f);

  PolygonShape right = new PolygonShape();
  right.setAsEdge(new Vec2(physWidth, 0), new Vec2(physWidth, physHeight));
  ground.createFixture(right, 0.0f);</b>
}
					</pre>
				</article>
			</slide>
			
			
			<slide slideenter="setSample(this.childNodes[1], 5)">
				<hgroup>
					<h2>Add some bounds to the screen</h2>
				</hgroup>
				<article></article>
			</slide>
			
			<slide>
				<article class="flexbox vcenter">
					<h2>Questions?</h2>
				</article>
			</slide>
			
			<slide class="thank-you-slide segue nobackground">
				<aside class="gdbar right">
					<img src="images/GDG-program-logo.png">
				</aside>
				<article class="flexbox vleft auto-fadein">
					<h2>&lt;Thank You!&gt;</h2>
					<p class="smaller">Please give feedback</p>
				</article>
				<p class="auto-fadein" data-config-contact>
				<!-- populated from slide_config.json -->
				</p>
			</slide>
			
			
			<slide class="backdrop" />
			
			
		</slides>

		<!--[if IE]>
			<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
			<script>CFInstall.check({mode: 'overlay'});</script>
		<![endif]-->
		
	</body>
</html>
